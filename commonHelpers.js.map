{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export function getImages(query) {\n  const BASE_URL = \"https://pixabay.com\";\n  const END_POINT = \"/api/\";\n  const params = new URLSearchParams({\n    key: \"43196488-b1a28e2a6e2ea3f6c7718f6c5\",\n    q: query,\n    image_type: \"photo\",\n    orientation: \"horizontal\",\n    safesearch: \"true\",\n  })\n  const url = `${BASE_URL}${END_POINT}?${params}`;\n\n  return fetch(url).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  })\n}","import SimpleLightbox from \"simplelightbox\"\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst gallery = document.querySelector(\".gallery\");\nconst lightbox = new SimpleLightbox('.gallery a', {\n  captionsData: 'alt',\n});\n\nexport function queryTemplate(data) {\n  const markup = data.map(({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) => {\n    return `<li class=\"photos-list-item\">\n      <a class=\"photos-list-link\" href=\"${largeImageURL}\">\n        <img class=\"photo\" src=\"${webformatURL}\" alt=\"${tags}\"/>\n      </a>\n      <ul class=\"photo-information-container\">\n        <li class=\"item-photo-information-container\">\n          <p><span class=\"accent\">Likes</span></br>${likes}</p>\n        </li>\n        <li class=\"item-photo-information-container\">\n          <p><span class=\"accent\">Views</span></br>${views}</p>\n        </li>\n        <li class=\"item-photo-information-container\">\n          <p><span class=\"accent\">Comments</span></br>${comments}</p>\n        </li>\n        <li class=\"item-photo-information-container\">\n          <p><span class=\"accent\">Downloads</span></br>${downloads}</p>\n        </li>\n      </ul>\n    </li>`\n  }).join(\"\");\n  gallery.insertAdjacentHTML('beforeend', markup);\n  lightbox.refresh();\n}\n  \n      ","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport { getImages } from \"./js/pixabay-api.js\"\nimport { queryTemplate } from \"./js/render-functions.js\";\n\nlet query;\nconst galleryList = document.querySelector(\".gallery\");\nconst form = document.querySelector(\".form\");\nconst button = document.querySelector(\".button\")\nconst loader = document.querySelector('.loader');\n\nfunction showLoader() {\n  loader.classList.remove(\"is-hidden\");\n}\nfunction hideLoader() {\n  loader.classList.add(\"is-hidden\");\n}\n\nform.addEventListener(\"submit\", (event) => {\n  event.preventDefault();\n  galleryList.innerHTML = \"\";\n  query = event.target.elements.query.value.trim();\n  showLoader();\n  \n  if (query === \"\") {\n    console.log(\"Please fill in the field for search!\");\n    return\n  }\n  \n  getImages(query).then(data => {\n    if (data.hits.length === 0) {\n      iziToast.error({\n        message: \"Sorry, there are no images matching your search query. Please try again!\",\n        backgroundColor: \"red\",\n        messageColor: \"white\",\n        position: 'topRight'\n      })\n    }\n    queryTemplate(data.hits);\n    event.target.reset();\n    return\n  })\n    .catch(error => {\n      console.log(error);\n      iziToast.error({\n        title: 'Error',\n        message: `Sorry, there are no images matching your search query. Please, try again!`,\n        position: 'topRight'\n      })\n    }).finally(() => hideLoader());\n})"],"names":["getImages","query","BASE_URL","END_POINT","params","url","response","gallery","lightbox","SimpleLightbox","queryTemplate","data","markup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","galleryList","form","loader","showLoader","hideLoader","event","iziToast","error"],"mappings":"6vBAAO,SAASA,EAAUC,EAAO,CAC/B,MAAMC,EAAW,sBACXC,EAAY,QACZC,EAAS,IAAI,gBAAgB,CACjC,IAAK,qCACL,EAAGH,EACH,WAAY,QACZ,YAAa,aACb,WAAY,MAChB,CAAG,EACKI,EAAM,GAAGH,CAAQ,GAAGC,CAAS,IAAIC,CAAM,GAE7C,OAAO,MAAMC,CAAG,EAAE,KAAKC,GAAY,CACjC,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACpB,CAAG,CACH,CCfA,MAAMC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAW,IAAIC,EAAe,aAAc,CAChD,aAAc,KAChB,CAAC,EAEM,SAASC,EAAcC,EAAM,CAClC,MAAMC,EAASD,EAAK,IAAI,CAAC,CAAE,aAAAE,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAS,IACtF;AAAA,0CAC+BL,CAAa;AAAA,kCACrBD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA;AAAA,qDAIPC,CAAK;AAAA;AAAA;AAAA,qDAGLC,CAAK;AAAA;AAAA;AAAA,wDAGFC,CAAQ;AAAA;AAAA;AAAA,yDAGPC,CAAS;AAAA;AAAA;AAAA,UAI/D,EAAE,KAAK,EAAE,EACVZ,EAAQ,mBAAmB,YAAaK,CAAM,EAC9CJ,EAAS,QAAO,CAClB,CC3BA,IAAIP,EACJ,MAAMmB,EAAc,SAAS,cAAc,UAAU,EAC/CC,EAAO,SAAS,cAAc,OAAO,EAC5B,SAAS,cAAc,SAAS,EAC/C,MAAMC,EAAS,SAAS,cAAc,SAAS,EAE/C,SAASC,GAAa,CACpBD,EAAO,UAAU,OAAO,WAAW,CACrC,CACA,SAASE,GAAa,CACpBF,EAAO,UAAU,IAAI,WAAW,CAClC,CAEAD,EAAK,iBAAiB,SAAWI,GAAU,CAMzC,GALAA,EAAM,eAAc,EACpBL,EAAY,UAAY,GACxBnB,EAAQwB,EAAM,OAAO,SAAS,MAAM,MAAM,OAC1CF,IAEItB,IAAU,GAAI,CAChB,QAAQ,IAAI,sCAAsC,EAClD,MACD,CAEDD,EAAUC,CAAK,EAAE,KAAKU,GAAQ,CACxBA,EAAK,KAAK,SAAW,GACvBe,EAAS,MAAM,CACb,QAAS,2EACT,gBAAiB,MACjB,aAAc,QACd,SAAU,UAClB,CAAO,EAEHhB,EAAcC,EAAK,IAAI,EACvBc,EAAM,OAAO,OAEjB,CAAG,EACE,MAAME,GAAS,CACd,QAAQ,IAAIA,CAAK,EACjBD,EAAS,MAAM,CACb,MAAO,QACP,QAAS,4EACT,SAAU,UAClB,CAAO,CACF,CAAA,EAAE,QAAQ,IAAMF,EAAU,CAAE,CACjC,CAAC"}