{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export function getImages(query) {\n  const BASE_URL = \"https://pixabay.com\";\n  const END_POINT = \"/api/\";\n  const params = new URLSearchParams({\n    key: \"43196488-b1a28e2a6e2ea3f6c7718f6c5\",\n    q: query,\n    image_type: \"photo\",\n    orientation: \"horizontal\",\n    safesearch: \"true\",\n  })\n  const url = `${BASE_URL}${END_POINT}?${params}`;\n  return fetch(url)\n    .then(res => res.json())\n    .catch(error => {\n      console.error('Error occurred while fetching images:', error);\n      throw error;\n    });\n}","export function queryTemplate(data) {\n  return data.map(({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) => {\n    return `<li class=\"photos-list-item\">\n      <a class=\"photos-list-link\" href=\"${largeImageURL}\">\n        <img class=\"photo\" src=\"${webformatURL}\" alt=\"${tags}\"/>\n      </a>\n      <ul class=\"photo-information-container\">\n        <li class=\"item-photo-information-container\">\n          <p><span class=\"accent\">Likes</span></br>${likes}</p>\n        </li>\n        <li class=\"item-photo-information-container\">\n          <p><span class=\"accent\">Views</span></br>${views}</p>\n        </li>\n        <li class=\"item-photo-information-container\">\n          <p><span class=\"accent\">Comments</span></br>${comments}</p>\n        </li>\n        <li class=\"item-photo-information-container\">\n          <p><span class=\"accent\">Downloads</span></br>${downloads}</p>\n        </li>\n      </ul>\n    </li>`\n  }).join(\"\");\n}","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nimport { getImages } from \"./js/pixabay-api.js\"\nimport { queryTemplate } from \"./js/render-functions.js\";\n\nconst form = document.querySelector(\".form\");\nconst gallery = document.querySelector(\".gallery\");\nconst loading = document.querySelector('.loading');\n\nform.addEventListener(\"submit\", (event) => {\n  event.preventDefault();\n  loading.classList.add('loader');\n  const query = event.target.elements.query.value.trim();\n  if (query === \"\") {\n    iziToast.error({\n      backgroundColor: 'lightred',\n      icon: false,\n      progressBar: false,\n      close: false,\n      position: 'topRight',\n      message: 'Please, fill the field!',\n    });\n    loading.classList.remove('loader');\n    return;\n  }\n\n  getImages(query)\n    .then(data => {\n      if (data.hits && data.hits.length === 0) {\n        iziToast.error({\n          message: 'Sorry, there are no images matching your search query. Please try again!',\n          backgroundColor: 'red',\n          progressBar: false,\n          close: false,\n          position: 'topRight',\n        })\n      }\n      const markup = queryTemplate(data.hits);\n      gallery.innerHTML = markup;\n      const lightbox = new SimpleLightbox('.gallery-link', {\n        captionsData: 'alt',\n      });\n      lightbox.refresh();\n    })\n    .catch(error => {\n      console.error('Error occurred while fetching images:', error);\n      iziToast.error({\n        message: 'Sorry, an error occurred while fetching images. Please try again!',\n        backgroundColor: 'red',\n        icon: false,\n        progressBar: false,\n        close: false,\n        position: 'topRight',\n      });\n    })\n    .finally(() => loading.classList.remove(\"loader\"));\n  event.target.reset();\n})"],"names":["getImages","query","BASE_URL","END_POINT","params","url","res","error","queryTemplate","data","webformatURL","largeImageURL","tags","likes","views","comments","downloads","form","gallery","loading","event","iziToast","markup","SimpleLightbox"],"mappings":"6vBAAO,SAASA,EAAUC,EAAO,CAC/B,MAAMC,EAAW,sBACXC,EAAY,QACZC,EAAS,IAAI,gBAAgB,CACjC,IAAK,qCACL,EAAGH,EACH,WAAY,QACZ,YAAa,aACb,WAAY,MAChB,CAAG,EACKI,EAAM,GAAGH,CAAQ,GAAGC,CAAS,IAAIC,CAAM,GAC7C,OAAO,MAAMC,CAAG,EACb,KAAKC,GAAOA,EAAI,MAAM,EACtB,MAAMC,GAAS,CACd,cAAQ,MAAM,wCAAyCA,CAAK,EACtDA,CACZ,CAAK,CACL,CCjBO,SAASC,EAAcC,EAAM,CAClC,OAAOA,EAAK,IAAI,CAAC,CAAE,aAAAC,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAS,IAC9E;AAAA,0CAC+BL,CAAa;AAAA,kCACrBD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA;AAAA,qDAIPC,CAAK;AAAA;AAAA;AAAA,qDAGLC,CAAK;AAAA;AAAA;AAAA,wDAGFC,CAAQ;AAAA;AAAA;AAAA,yDAGPC,CAAS;AAAA;AAAA;AAAA,UAI/D,EAAE,KAAK,EAAE,CACZ,CCdA,MAAMC,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAU,SAAS,cAAc,UAAU,EAEjDF,EAAK,iBAAiB,SAAWG,GAAU,CACzCA,EAAM,eAAc,EACpBD,EAAQ,UAAU,IAAI,QAAQ,EAC9B,MAAMlB,EAAQmB,EAAM,OAAO,SAAS,MAAM,MAAM,OAChD,GAAInB,IAAU,GAAI,CAChBoB,EAAS,MAAM,CACb,gBAAiB,WACjB,KAAM,GACN,YAAa,GACb,MAAO,GACP,SAAU,WACV,QAAS,yBACf,CAAK,EACDF,EAAQ,UAAU,OAAO,QAAQ,EACjC,MACD,CAEDnB,EAAUC,CAAK,EACZ,KAAKQ,GAAQ,CACRA,EAAK,MAAQA,EAAK,KAAK,SAAW,GACpCY,EAAS,MAAM,CACb,QAAS,2EACT,gBAAiB,MACjB,YAAa,GACb,MAAO,GACP,SAAU,UACpB,CAAS,EAEH,MAAMC,EAASd,EAAcC,EAAK,IAAI,EACtCS,EAAQ,UAAYI,EACH,IAAIC,EAAe,gBAAiB,CACnD,aAAc,KACtB,CAAO,EACQ,QAAO,CACtB,CAAK,EACA,MAAMhB,GAAS,CACd,QAAQ,MAAM,wCAAyCA,CAAK,EAC5Dc,EAAS,MAAM,CACb,QAAS,oEACT,gBAAiB,MACjB,KAAM,GACN,YAAa,GACb,MAAO,GACP,SAAU,UAClB,CAAO,CACP,CAAK,EACA,QAAQ,IAAMF,EAAQ,UAAU,OAAO,QAAQ,CAAC,EACnDC,EAAM,OAAO,OACf,CAAC"}